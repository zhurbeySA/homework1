# 1 Домашняя работа. Описание фичи "Рейтинг пассажира".

### Описание задачи:
Идея фичи: добавить возможность водителям выставлять оценки пассажирам, из этих оценок будет составляться рейтинг пассажира, который будет отображаться водителю перед началом поездки. Формировать рейтинг будем из оценок последних 10 поездок, чтобы при долгосрочном изменении в поведении клиенту его рейтинг не был бы завышен/занижен из-за старых поездок. А также будем учитывать оценки разных водителей с разным весом, который будет равен <рейтингу водителя>/5, такой подход позволит избежать занижения оценок низкопрофессиональными водителями, а так же дать возможность высококласным водителям сильнее влиять на рейтинг своих клиентов.
Что может дать такая фича:
 - Пассажиры будут более ответственно относиться к своему поведению во время поездки.
 - Водителям будет комфортнее принимать заказ если они будут понимать чего стоит ожидать.
 - Позиция водителя с высоким рейтингом станет еще более выгодной.

### MVP:
В качестве MVP можно просто добавить в прилиложение для водителей экран, открывающийся после завершения поездки в котором можно отметить от 1 до 5 звезд и есть подсказка о том что водитель оценивает пассажира. А также добавить в экран где водитель принимает заказ рейтинг пассажира.
В полноценной же реализации если фича проявит себя положительно можно будет добавить водителю возможность оставить отзыв о пользователе, чтобы подчеркнуть некоторые моменты работы с ним. Добавить в интерфейс пассажира возможность просмотреть свой рейтинг, чтобы исходя из этого понимать насколько комфортно водителям с ним работать.

### Архитектура:
Чтобы реализовать функционал MVP нужно будет добавить к каждой поездке оценку выставленную водителем пользователю - такое архитектурное решение позволит сохранить нормальную форму в БД, а уже текущий рейтинг пассажира мы сможем посчитать пройдясь по 10 его последним поездкам.

### API:
[Файл с API](api.yml)

### Тестирование:

Стоит закрыть юнит-тестами граничные случаи:
 - Нет поездок с оценками
 - Поездок с оценками меньше 10

Имеет смысл проверить насколько добавление такой фичи влияет на общую производительность бэкэнда и БД при помощи нагрузочного тестирования.

### Эксперимент:
Для того чтобы протестировать дает ли сам концепт рейтинга пассажиров пользу всему сервису можем подключить фичу для 15-20% самых активных водителей, как аудитории самых лояльных к этому сервису водителей.
Следует отследить сам процент водителей которые решили оценить пассажира и изменение в проценте непринятых заказов у данных водителей. По этим показателям уже будет понятно стоит ли вообще вводить полноценную реализацию.