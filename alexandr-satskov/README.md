# Семейный аккаунт
## 1. Описание задачи, постановка гипотез
Создание общего аккаунта для группы пользователей (не болле 3-х человек), возможность выбора общего способа оплаты.  
**Гипотеза**: увеличится кол-во пользователей сервиса => вырастет кол-во заказов => stonks**$$$** (пользователь приведет детей/родителей).

## 2. MVP. Cделать фичу минимальными усилиями
*Что будет если эту фичу не делать?*  
При необходимости оплатить поездку за другого человека, пользователи будут заказывать такси со своего аккаунта => **у водителя не будет данных о пассажире**.  

*Как можно проверить минимально возможными силами?*  
**Минимальный функционал для проверки гипотезы?**: пользователь может кинуть другому пользователю инвайт, который позволит выбирать в качестве способа оплаты карту пригласившего. I think so.  

## 3. Архитектура, основные сценарии
Код пишем в микросервисе, НЕ МОНОЛИТ.  
Для хранения данных о семейном аккаунте потребуется? создать **новую таблицу family_accounts**, которая будет содержать id создателя, привязанную карту для оплаты и тп.  
К существующей таблице accounts, нужно будет добавить fk_family_accounts(default=null).  
**Основные сценарии:**
1. CRUD семейного аккаунта для создателя
2. Кидать инвайт для вступления в семейный аккаунт
3. Принимать инвайты
4. Выбирать в качестве способа оплаты семейный аккаунт (/pay endpoint)

## 4. API.
[api.yaml](https://github.com/YaBackSchool2021/homework1/tree/alexandr-satskov/alexandr-satskov/api.yaml "Swagger docs")

## 5. Тесты. Corner cases
**unit**: 
- Для создателя (CRUD для семейного аккаунта, кинуть инвайт)
- Для пользователя (принять инвайт, выбрать семейный акк в качестве способа оплаты)
**Corner case**: у приглашенных не должно быть возможности изменять семейный аккаунт, приглашенный человек уже является участником другой группы, создатель сам является участником семейного аккаунта.

## 6. Включение фичи
1. Включить для людей, что часто заказывают такси не для себя.
2. Следить за метриками привел ли пользователей новых юзеров.
